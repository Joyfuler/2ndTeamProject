<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.adventure.repository.NoticeDao">
	<resultMap type="Notice" id="NoticeResult">
	<result property="nid" column="nid"/>
		<result property="ntitle" column="ntitle"/>
		<result property="ncontent" column="ncontent"/>
		<result property="nrdate" column="nrdate"/>
		<result property="wid" column="wid"/>
	</resultMap>
	<select id="getNotice" parameterType= "int" resultType="NoticeResult">
		SELECT * FROM NOTICE WHERE NID=#{nid}
	</select>
	<select id="listNotice" parameterType= "Notice" resultType="NoticeResult">
		SELECT * 
    FROM (SELECT ROWNUM RN, A.* 
        FROM(SELECT * FROM NOTICE
            WHERE NTITLE LIKE '%' || 'ê²°' || '%' ORDER BY NID DESC) A)
        WHERE RN BETWEEN #{startRow} AND #{endRow}
	</select>
	
</mapper>